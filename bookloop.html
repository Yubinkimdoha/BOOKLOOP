<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BOOKLOOP ‚Äî S.K.V. VIVEK VIHAR</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --main: #003631;
  --main-light: #005C53;
  --side: #FFEDA8;
  --accent: #e77f24; /* Orange for Requests */
  --text-dark: #062723;
  --shadow: 0 10px 30px rgba(0,0,0,0.08);
  --glass: rgba(255, 255, 255, 0.15);
}

* { margin:0; padding:0; box-sizing:border-box; transition: all 0.2s ease; }

body{
  font-family: 'Poppins', sans-serif;
  background: radial-gradient(circle at top left, #dbece9, #fff);
  min-height: 100vh;
  display:flex; flex-direction: column; align-items: center; 
  padding: 40px 15px; color: var(--text-dark);
}

.container{
  width:100%; max-width:1000px;
  background: white; border-radius: 24px;
  box-shadow: var(--shadow); overflow: hidden; display: grid;
  grid-template-columns: 1.1fr 0.9fr;
}

/* LEFT PANEL */
.main{
  padding: 50px;
  background: linear-gradient(135deg, var(--main), #00211e);
  color: var(--side); display: flex; flex-direction: column; justify-content: center;
}
h1 { font-size: 48px; line-height: 1.1; margin: 10px 0; letter-spacing: -1px; }
#schoolName { opacity: 0.8; letter-spacing: 1px; text-transform: uppercase; font-size: 13px; font-weight: 600; }
.subtitle { font-size: 16px; opacity: 0.9; line-height: 1.6; margin-bottom: 30px; max-width: 90%; }

.btn { padding: 12px 24px; font-weight: 600; border-radius: 50px; border: none; cursor: pointer; font-size: 14px; display:inline-flex; align-items:center; gap:8px; }
.primary-btn { background: var(--side); color: var(--main); box-shadow: 0 4px 15px rgba(255, 237, 168, 0.3); }
.primary-btn:hover { transform: translateY(-2px); background: #fff; }
.ghost-btn { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.3); }
.ghost-btn:hover { background: rgba(255,255,255,0.2); }

/* GLASS CARD */
.glass-card {
  margin-top: 40px; background: var(--glass);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  padding: 25px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1);
}
.glass-card li { margin-bottom: 8px; margin-left: 20px; font-size: 14px; opacity: 0.9; }

/* RIGHT PANEL */
.side{ background: #F9FBF9; padding: 40px; display: flex; flex-direction: column; gap: 20px; }

.card{
  background: #fff; padding: 25px; border-radius: 16px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.03); border: 1px solid #eee;
}
.card h3 { color: var(--main); font-size: 18px; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }

input, select{
  width: 100%; padding: 12px 15px; border-radius: 8px; border: 2px solid #eee;
  background: #fcfcfc; font-family: inherit; font-size: 14px; margin-bottom: 10px; outline: none;
}
input:focus, select:focus { border-color: var(--main); background: #fff; }

.donate-btn{
  width: 100%; padding: 12px; margin-top: 5px; background: var(--main); color: #fff;
  border: none; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 8px;
}
.donate-btn:hover { background: var(--main-light); }

/* --- LISTINGS & TABS AREA --- */
.listings-area { width: 100%; max-width: 1000px; margin-top: 30px; }

/* TABS */
.tab-container {
  display: flex; gap: 10px; margin-bottom: 20px;
  background: #eef2f2; padding: 5px; border-radius: 12px; width: fit-content;
}
.tab-btn {
  padding: 10px 20px; border: none; background: transparent; 
  border-radius: 8px; font-weight: 600; color: #666; cursor: pointer;
}
.tab-btn.active { background: white; color: var(--main); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

/* GRID */
.book-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; }

.book-item {
  background: white; padding: 18px; border-radius: 12px; 
  box-shadow: 0 4px 10px rgba(0,0,0,0.05); border: 1px solid #eee;
  display: flex; flex-direction: column; gap: 6px; 
  animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  position: relative;
}
@keyframes popIn { from{transform: scale(0.9); opacity:0;} to{transform: scale(1); opacity:1;} }

.book-top { display:flex; justify-content:space-between; align-items:start; margin-bottom:5px; }
.book-tag { font-size: 11px; font-weight: 700; text-transform: uppercase; background: #eef; color: var(--main); padding: 4px 8px; border-radius: 6px; }

/* REQUEST ITEM STYLING */
.book-item.request-mode {
  border: 2px dashed #f0c49e;
  background: #fffaf5;
}
.book-item.request-mode .book-tag { background: #ffe8d6; color: var(--accent); }
.book-item.request-mode strong { color: var(--accent); }

/* BADGES */
.badge-new { background: #d4edda; color: #155724; }
.badge-good { background: #fff3cd; color: #856404; }
.badge-worn { background: #f8d7da; color: #721c24; }

.action-btn {
  margin-top: 10px; padding: 8px; font-size: 12px; background: white; 
  border: 1px solid var(--main); color: var(--main); border-radius: 6px; cursor: pointer; font-weight:600;
}
.action-btn:hover { background: var(--main); color: #fff; }

/* Button style for responding to a request */
.give-btn { border-color: var(--accent); color: var(--accent); }
.give-btn:hover { background: var(--accent); color: #fff; }

/* TOAST */
#toast {
  visibility: hidden; min-width: 250px; background-color: #333; color: #fff; text-align: center;
  border-radius: 50px; padding: 16px; position: fixed; z-index: 100; left: 50%; bottom: 30px;
  transform: translateX(-50%); font-size: 14px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
#toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }
@keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
@keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

/* LANGUAGE BOX */
.lang-box{
  max-width: 1000px; width: 100%; margin-top: 20px; background: white; border-radius: 12px;
  padding: 15px 25px; display: flex; align-items: center; justify-content: space-between;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

@media (max-width: 768px) {
  .container { grid-template-columns: 1fr; }
  .main { padding: 40px 20px; text-align: center; }
}
</style>
</head>

<body>

<div class="container">
  <main class="main">
    <div id="schoolName">S.K.V. VIVEK VIHAR</div>
    <h1 id="titleMain">BOOKLOOP</h1>
    <p class="subtitle" id="subtitle">Selling used books, find low-cost textbooks, and help classmates continue learning.</p>

    <div style="margin-top:10px; display:flex; gap:12px; justify-content: inherit;">
      <button class="btn primary-btn" onclick="switchTab('books')">Browse Books</button>
      <button class="btn ghost-btn">How it works</button>
    </div>

    <div class="glass-card">
      <h3 id="quickSteps">‚ö° Quick steps to help</h3>
      <ol style="opacity:0.95">
        <li id="step1">Choose classes (8th ‚Äî 12th)</li>
        <li id="step2">List the books and their condition</li>
        <li id="step3">Drop them at the school collection point</li>
      </ol>
    </div>
  </main>

  <aside class="side">
    <div class="card">
      <h3 id="bookDetails">üìï Sell a Book</h3>
      <input id="bookTitle" placeholder="Book title (e.g. Science NCERT)">
      <select id="bookCondition">
        <option value="New">Condition: New</option>
        <option value="Good">Condition: Good</option>
        <option value="Fair">Condition: Fair</option>
        <option value="Worn">Condition: Worn</option>
      </select>
      <select id="sellClass" style="margin-bottom:10px">
         <option value="12">Class 12</option><option value="11">Class 11</option><option value="10">Class 10</option><option value="9">Class 9</option><option value="8">Class 8</option>
      </select>
      <button class="donate-btn" onclick="submitDonation()" id="sellBtn">
        <span>Submit Selling</span> <span>‚ûî</span>
      </button>
    </div>

    <div class="card">
      <h3 id="buyTitle">üîç Find / Request</h3>
      
      <div style="display:flex; gap:10px;">
          <select id="buyClass" style="width:35%"><option value="">Class</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>
          <input id="searchBook" placeholder="Search book name...">
      </div>
      <button class="donate-btn" onclick="searchBook()" id="searchBtn">Search</button>

      <div style="margin-top:25px; padding-top:20px; border-top:1px dashed #ddd;">
        <h4 id="reqLabel" style="color:var(--accent); font-size:13px; text-transform:uppercase; font-weight:bold; margin-bottom:10px;">Can't find it? Request it.</h4>
        <div style="display:flex; gap:10px;">
          <select id="requestClass" style="width:35%"><option value="">Class</option><option>8</option><option>9</option><option>10</option><option>11</option><option>12</option></select>
          <input id="requestBook" placeholder="Book needed">
        </div>
        <button class="donate-btn" onclick="requestBookFn()" id="reqBtn" style="background:var(--accent)">Post Request</button>
      </div>
    </div>
  </aside>
</div>

<div class="listings-area">
  
  <div class="tab-container">
    <button class="tab-btn active" id="tabBooks" onclick="switchTab('books')">üìö Books Available</button>
    <button class="tab-btn" id="tabReq" onclick="switchTab('requests')">üôã Books Wanted</button>
  </div>

  <div class="book-grid" id="liveFeed">
    </div>
</div>

<div class="lang-box">
  <div style="display:flex; align-items:center; gap:10px;">
      <h3>üåê Language</h3>
      <select id="langSelect" onchange="changeLang()"><option value="en">English</option><option value="hi">Hindi</option></select>
  </div>
  <p id="langStatus">Current: English</p>
</div>
<div id="toast">Notification Message</div>

<script>
// --- 1. DATABASES ---

// Books People are SELLING
const booksDB = [
  { id: 1, title: "Flamingo (English Core)", class: "12", cond: "New", date: "Just now" },
  { id: 2, title: "Physics Part-I NCERT", class: "12", cond: "Good", date: "1 hr ago" },
  { id: 3, title: "Science Class X", class: "10", cond: "Worn", date: "2 days ago" },
  { id: 4, title: "Beehive (English)", class: "9", cond: "Good", date: "3 days ago" },
];

// Books People are REQUESTING
const requestsDB = [
  { id: 101, title: "Mathematics R.D. Sharma", class: "10", date: "Urgent" },
  { id: 102, title: "Chemistry Part-II", class: "12", date: "Today" },
  { id: 103, title: "Sanskrit Ruchira", class: "8", date: "Yesterday" }
];

let currentTab = 'books'; // 'books' or 'requests'

// --- TRANSLATION MAPS ---
const translations = {
    en: {
        title: "BOOKLOOP", subtitle: "Selling used books, find low-cost textbooks, and help classmates continue learning.",
        browse: "Browse Books", howitworks: "How it works",
        quickSteps: "‚ö° Quick steps to help", step1: "Choose classes (8th ‚Äî 12th)", step2: "List the books and their condition",
        step3: "Drop them at the school collection point", sellBook: "üìï Sell a Book",
        sellTitle: "Book title (e.g. Science NCERT)", condNew: "Condition: New", condGood: "Condition: Good",
        condFair: "Condition: Fair", condWorn: "Condition: Worn", submitSell: "Submit Selling ‚ûî",
        findRequest: "üîç Find / Request", searchPlaceholder: "Search book name...", searchBtn: "Search",
        reqLabel: "Can't find it? Request it.", reqPlaceholder: "Book needed", postReq: "Post Request ‚ûî",
        tabAvailable: "üìö Books Available", tabWanted: "üôã Books Wanted", langStatus: "Current: English",
        classDefault: "Class",
        // Toasts
        toastTitle: "‚ö†Ô∏è Enter title!", toastFields: "‚ö†Ô∏è Fill all fields.",
        toastReqSent: "Request sent to owner!", toastHaveThis: "Thanks! Connecting you...",
        toastSearching: "üîç Searching..."
    },
    hi: {
        title: "‡§¨‡•Å‡§ï‡§≤‡•Ç‡§™", subtitle: "‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç ‡§¨‡•á‡§ö‡•á‡§Ç, ‡§ï‡§Æ ‡§ï‡•Ä‡§Æ‡§§ ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§†‡•ç‡§Ø‡§™‡•Å‡§∏‡•ç‡§§‡§ï‡•á‡§Ç ‡§™‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§∏‡§π‡§™‡§æ‡§†‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•á‡§Ç‡•§",
        browse: "‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç ‡§¶‡•á‡§ñ‡•á‡§Ç", howitworks: "‡§Ø‡§π ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à",
        quickSteps: "‚ö° ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ö‡§∞‡§£", step1: "‡§ï‡§ï‡•ç‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç (8‡§µ‡•Ä‡§Ç ‚Äî 12‡§µ‡•Ä‡§Ç)", step2: "‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç ‡§î‡§∞ ‡§â‡§®‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§∏‡•Ç‡§ö‡•Ä‡§¨‡§¶‡•ç‡§ß ‡§ï‡§∞‡•á‡§Ç",
        step3: "‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§∏‡•ç‡§ï‡•Ç‡§≤ ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§™‡§∞ ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç", sellBook: "üìï ‡§è‡§ï ‡§ï‡§ø‡§§‡§æ‡§¨ ‡§¨‡•á‡§ö‡•á‡§Ç",
        sellTitle: "‡§ï‡§ø‡§§‡§æ‡§¨ ‡§ï‡§æ ‡§®‡§æ‡§Æ (‡§â‡§¶‡§æ. ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® NCERT)", condNew: "‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‡§®‡§à", condGood: "‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‡§Ö‡§ö‡•ç‡§õ‡•Ä",
        condFair: "‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø", condWorn: "‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‡§™‡•Å‡§∞‡§æ‡§®‡•Ä", submitSell: "‡§¨‡•á‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç ‚ûî",
        findRequest: "üîç ‡§ñ‡•ã‡§ú‡•á‡§Ç / ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§ï‡§∞‡•á‡§Ç", searchPlaceholder: "‡§ï‡§ø‡§§‡§æ‡§¨ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§ñ‡•ã‡§ú‡•á‡§Ç...", searchBtn: "‡§ñ‡•ã‡§ú‡•á‡§Ç",
        reqLabel: "‡§ï‡§ø‡§§‡§æ‡§¨ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä? ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§ï‡§∞‡•á‡§Ç‡•§", reqPlaceholder: "‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§ï‡§ø‡§§‡§æ‡§¨", postReq: "‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç ‚ûî",
        tabAvailable: "üìö ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç", tabWanted: "üôã ‡§Æ‡§æ‡§Ç‡§ó‡•Ä ‡§ó‡§à ‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç", langStatus: "Current: Hindi",
        classDefault: "‡§ï‡§ï‡•ç‡§∑‡§æ",
        // Toasts
        toastTitle: "‚ö†Ô∏è ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!", toastFields: "‚ö†Ô∏è ‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç‡•§",
        toastReqSent: "‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§ï‡•ã ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ!", toastHaveThis: "‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶! ‡§Ü‡§™‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à...",
        toastSearching: "üîç ‡§ñ‡•ã‡§ú‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à..."
    }
};

// Initialize
window.onload = () => {
    // Ensure all select boxes have class options (already done in HTML, but good practice)
    renderFeed();
    changeLang(); // Run once to set initial state/translations if needed
};

// --- 2. SWITCH TABS ---
function switchTab(tab) {
  currentTab = tab;
  
  // Update Buttons
  document.getElementById('tabBooks').className = tab === 'books' ? 'tab-btn active' : 'tab-btn';
  document.getElementById('tabReq').className = tab === 'requests' ? 'tab-btn active' : 'tab-btn';

  renderFeed();
}

// --- 3. RENDER FUNCTION ---
function renderFeed(filterList = null) {
  const feed = document.getElementById('liveFeed');
  feed.innerHTML = "";
  
  // Decide which list to show
  let data = filterList || (currentTab === 'books' ? booksDB : requestsDB);
  const lang = document.getElementById('langSelect').value;
  const t = translations[lang];

  if(data.length === 0) {
    feed.innerHTML = `<p style="grid-column:1/-1; text-align:center; color:#999; padding:20px;">Empty List</p>`;
    return;
  }

  data.forEach(item => {
    if(currentTab === 'books') {
      // RENDER BOOK CARD
      feed.innerHTML += `
        <div class="book-item">
          <div class="book-top">
            <div class="book-tag">${t.classDefault} ${item.class}</div>
            <small style="color:#999; font-size:11px;">${item.date}</small>
          </div>
          <strong style="font-size:15px; color:var(--main)">${item.title}</strong>
          <span class="badge-${item.cond.toLowerCase()}" style="font-size:12px; padding:2px 6px; border-radius:4px; width:fit-content;">${item.cond}</span>
          <button class="action-btn" onclick="showToast('${t.toastReqSent}')">Request / Contact</button>
        </div>`;
    } else {
      // RENDER REQUEST CARD (Different Style)
      feed.innerHTML += `
        <div class="book-item request-mode">
          <div class="book-top">
            <div class="book-tag">${t.classDefault} ${item.class}</div>
            <small style="color:#c47c48; font-size:11px;">${item.date}</small>
          </div>
          <strong style="font-size:15px;">${item.title}</strong>
          <span style="font-size:12px; color:#c47c48;">User needs this</span>
          <button class="action-btn give-btn" onclick="showToast('${t.toastHaveThis}')">üôå I Have This!</button>
        </div>`;
    }
  });
}

// --- 4. ACTIONS ---

function submitDonation(){
  const t = document.getElementById('bookTitle').value.trim();
  const c = document.getElementById('bookCondition').value;
  const cl = document.getElementById('sellClass').value;
  const lang = document.getElementById('langSelect').value;
  const trans = translations[lang];
  
  if(!t) return showToast(trans.toastTitle, "#d9534f");

  booksDB.unshift({ id: Date.now(), title: t, class: cl, cond: c, date: "Just now" });
  showToast(`‚úÖ Listed: ${t}`, "#003631");
  document.getElementById('bookTitle').value = "";
  
  switchTab('books'); // Auto switch to books tab
}

function requestBookFn(){
  const cl = document.getElementById('requestClass').value;
  const t = document.getElementById('requestBook').value.trim();
  const lang = document.getElementById('langSelect').value;
  const trans = translations[lang];

  if(!cl || !t) return showToast(trans.toastFields, "#d9534f");

  requestsDB.unshift({ id: Date.now(), title: t, class: cl, date: "Just Now" });
  showToast(`üôã Request Posted: ${t}`, "#e77f24");
  document.getElementById('requestBook').value = "";
  
  switchTab('requests'); // Auto switch to see your request
}

function searchBook(){
  const cls = document.getElementById('buyClass').value;
  const term = document.getElementById('searchBook').value.trim().toLowerCase();
  const lang = document.getElementById('langSelect').value;
  const trans = translations[lang];
  
  showToast(trans.toastSearching);

  // Search in CURRENT tab only
  const db = currentTab === 'books' ? booksDB : requestsDB;
  
  const results = db.filter(item => {
    const matchClass = cls ? item.class === cls : true;
    const matchName = term ? item.title.toLowerCase().includes(term) : true;
    return matchClass && matchName;
  });

  renderFeed(results);
}

// --- 5. TRANSLATOR ---
function changeLang(){
  const lang = document.getElementById('langSelect').value;
  const t = translations[lang];

  // 1. Hero Section
  document.getElementById("titleMain").innerText = t.title;
  document.getElementById("subtitle").innerText = t.subtitle;
  
  // Update action buttons (Browse/How it works)
  document.querySelector(".primary-btn").innerHTML = `${t.browse}`; // Simplified innerHTML for demo
  document.querySelector(".ghost-btn").innerText = t.howitworks;
  
  document.getElementById("quickSteps").innerText = t.quickSteps;
  document.getElementById("step1").innerText = t.step1;
  document.getElementById("step2").innerText = t.step2;
  document.getElementById("step3").innerText = t.step3;

  // 2. Sell Form
  document.getElementById("bookDetails").innerText = t.sellBook;
  document.getElementById("bookTitle").placeholder = t.sellTitle;
  document.getElementById("sellBtn").innerHTML = `<span>${t.submitSell.split(' ‚ûî')[0]}</span> <span>‚ûî</span>`;
  
  // Update Condition Options
  document.querySelector('#bookCondition option[value="New"]').innerText = t.condNew;
  document.querySelector('#bookCondition option[value="Good"]').innerText = t.condGood;
  document.querySelector('#bookCondition option[value="Fair"]').innerText = t.condFair;
  document.querySelector('#bookCondition option[value="Worn"]').innerText = t.condWorn;
  
  // 3. Find/Request Form
  document.getElementById("buyTitle").innerText = t.findRequest;
  document.getElementById("searchBook").placeholder = t.searchPlaceholder;
  document.getElementById("searchBtn").innerText = t.searchBtn;
  document.getElementById("reqLabel").innerText = t.reqLabel;
  document.getElementById("requestBook").placeholder = t.reqPlaceholder;
  document.getElementById("reqBtn").innerHTML = `<span>${t.postReq.split(' ‚ûî')[0]}</span> <span>‚ûî</span>`;

  // 4. Listing Tabs
  document.getElementById("tabBooks").innerText = t.tabAvailable;
  document.getElementById("tabReq").innerText = t.tabWanted;

  // 5. Language Status
  document.getElementById("langStatus").innerText = t.langStatus;
  
  // 6. Update Class Dropdown defaults (e.g., 'Class')
  document.getElementById("buyClass").querySelector('option[value=""]').innerText = t.classDefault;
  document.getElementById("requestClass").querySelector('option[value=""]').innerText = t.classDefault;

  // Re-render feed to apply translated text in the book cards if necessary (like Class/User needs this text)
  renderFeed();
}

// --- UTILS ---
function showToast(message, color = "#333") {
  const x = document.getElementById("toast");
  x.innerText = message;
  x.style.background = color;
  x.className = "show";
  setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
}
</script>
